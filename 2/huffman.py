# Hardcoding is ugly but efficient
DC_Y_TABLE = [
    [1, 1, 0],
    [1, 0, 1],
    [0, 1, 1],
    [0, 1, 0],
    [0, 0, 0],
    [0, 0, 1],
    [1, 0, 0],
    [1, 1, 1, 0],
    [1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 1, 0]
]
DC_Y_REVERSE_TABLE = {
    "100": 6,
    "101": 1,
    "110": 0,
    "1110": 7,
    "11110": 8,
    "111110": 9,
    "1111110": 10,
    "11111110": 11,
    "011": 2,
    "010": 3,
    "000": 4,
    "001": 5
}
DC_C_TABLE = [
    [0, 1],
    [0, 0],
    [1, 0, 0],
    [1, 0, 1],
    [1, 1, 0, 0],
    [1, 1, 0, 1],
    [1, 1, 1, 0],
    [1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 1, 1, 0]
]
DC_C_REVERSE_TABLE = {
    "100": 2,
    "101": 3,
    "1100": 4,
    "1101": 5,
    "1110": 6,
    "11110": 7,
    "111110": 8,
    "1111110": 9,
    "11111110": 10,
    "111111110": 11,
    "01": 0,
    "00": 1
}
AC_Y_TABLE = {
    0x01: [0, 0],
    0x02: [0, 1],
    0x03: [1, 0, 0],
    0x11: [1, 0, 1, 0],
    0x04: [1, 0, 1, 1],
    0x00: [1, 1, 0, 0],
    0x05: [1, 1, 0, 1, 0],
    0x21: [1, 1, 0, 1, 1],
    0x12: [1, 1, 1, 0, 0],
    0x31: [1, 1, 1, 0, 1, 0],
    0x41: [1, 1, 1, 0, 1, 1],
    0x51: [1, 1, 1, 1, 0, 0, 0],
    0x06: [1, 1, 1, 1, 0, 0, 1],
    0x13: [1, 1, 1, 1, 0, 1, 0],
    0x61: [1, 1, 1, 1, 0, 1, 1],
    0x22: [1, 1, 1, 1, 1, 0, 0, 0],
    0x71: [1, 1, 1, 1, 1, 0, 0, 1],
    0x81: [1, 1, 1, 1, 1, 0, 1, 0, 0],
    0x14: [1, 1, 1, 1, 1, 0, 1, 0, 1],
    0x32: [1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x91: [1, 1, 1, 1, 1, 0, 1, 1, 1],
    0xA1: [1, 1, 1, 1, 1, 1, 0, 0, 0],
    0x07: [1, 1, 1, 1, 1, 1, 0, 0, 1],
    0x15: [1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0xB1: [1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0x42: [1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x23: [1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0xC1: [1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    0x52: [1, 1, 1, 1, 1, 1, 1, 0, 0, 1],
    0xD1: [1, 1, 1, 1, 1, 1, 1, 0, 1, 0],
    0xE1: [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x33: [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0x16: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    0x62: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0],
    0xF0: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
    0x24: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0x72: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0x82: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
    0xF1: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1],
    0x25: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0],
    0x43: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],
    0x34: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0],
    0x53: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
    0x92: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    0xA2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1],
    0xB2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0],
    0x63: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1],
    0x73: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0],
    0xC2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1],
    0x35: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0],
    0x44: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1],
    0x27: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0],
    0x93: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1],
    0xA3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0],
    0xB3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1],
    0x36: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0],
    0x17: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1],
    0x54: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0],
    0x64: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1],
    0x74: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0],
    0xC3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1],
    0xD2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0],
    0xE2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1],
    0x08: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0],
    0x26: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1],
    0x83: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0],
    0x09: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1],
    0x0A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0],
    0x18: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1],
    0x19: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0],
    0x84: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1],
    0x94: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0],
    0x45: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1],
    0x46: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
    0xA4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1],
    0xB4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0],
    0x56: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1],
    0xD3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0],
    0x55: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1],
    0x28: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0],
    0x1A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1],
    0xF2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0],
    0xE3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1],
    0xF3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0],
    0xC4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1],
    0xD4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0],
    0xE4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1],
    0xF4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0],
    0x65: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1],
    0x75: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0],
    0x85: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1],
    0x95: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0],
    0xA5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1],
    0xB5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0],
    0xC5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1],
    0xD5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0],
    0xE5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1],
    0xF5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0],
    0x66: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1],
    0x76: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    0x86: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1],
    0x96: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0],
    0xA6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
    0xB6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0],
    0xC6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1],
    0xD6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0],
    0xE6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1],
    0xF6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],
    0x37: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1],
    0x47: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0],
    0x57: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1],
    0x67: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0],
    0x77: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1],
    0x87: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0],
    0x97: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1],
    0xA7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0],
    0xB7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1],
    0xC7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0],
    0xD7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1],
    0xE7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0],
    0xF7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1],
    0x38: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0],
    0x48: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1],
    0x58: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0],
    0x68: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1],
    0x78: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0],
    0x88: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1],
    0x98: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0],
    0xA8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],
    0xB8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0],
    0xC8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
    0xD8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    0xE8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1],
    0xF8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0],
    0x29: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1],
    0x39: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0],
    0x49: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1],
    0x59: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0],
    0x69: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1],
    0x79: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0],
    0x89: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1],
    0x99: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0],
    0xA9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1],
    0xB9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
    0xC9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1],
    0xD9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0],
    0xE9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1],
    0xF9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    0x2A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    0x3A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0],
    0x4A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
    0x5A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0x6A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0x7A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x8A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0x9A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    0xAA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1],
    0xBA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0],
    0xCA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1],
    0xDA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
    0xEA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1],
    0xFA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
}
AC_Y_REVERSE_TABLE = {
    "100": 3,
    "1010": 17,
    "1011": 4,
    "1100": 0,
    "11010": 5,
    "11011": 33,
    "11100": 18,
    "111010": 49,
    "111011": 65,
    "1111000": 81,
    "1111001": 6,
    "1111010": 19,
    "1111011": 97,
    "11111000": 34,
    "11111001": 113,
    "111110100": 129,
    "111110101": 20,
    "111110110": 50,
    "111110111": 145,
    "111111000": 161,
    "111111001": 7,
    "1111110100": 21,
    "1111110101": 177,
    "1111110110": 66,
    "1111110111": 35,
    "1111111000": 193,
    "1111111001": 82,
    "1111111010": 209,
    "00": 1,
    "01": 2,
    "1111111110011100": 8,
    "1111111110011111": 9,
    "1111111110100000": 10,
    "11111111000": 22,
    "1111111110010101": 23,
    "1111111110100001": 24,
    "1111111110100010": 25,
    "1111111110101101": 26,
    "111111110100": 36,
    "11111111011100": 37,
    "1111111110011101": 38,
    "1111111110010000": 39,
    "1111111110101100": 40,
    "1111111111100011": 41,
    "1111111111110001": 42,
    "11111110111": 51,
    "11111111011110": 52,
    "1111111110001110": 53,
    "1111111110010100": 54,
    "1111111111001001": 55,
    "1111111111010110": 56,
    "1111111111100100": 57,
    "1111111111110010": 58,
    "11111111011101": 67,
    "1111111110001111": 68,
    "1111111110100101": 69,
    "1111111110100110": 70,
    "1111111111001010": 71,
    "1111111111010111": 72,
    "1111111111100101": 73,
    "1111111111110011": 74,
    "11111111011111": 83,
    "1111111110010110": 84,
    "1111111110101011": 85,
    "1111111110101001": 86,
    "1111111111001011": 87,
    "1111111111011000": 88,
    "1111111111100110": 89,
    "1111111111110100": 90,
    "111111110010": 98,
    "111111111000101": 99,
    "1111111110010111": 100,
    "1111111110110101": 101,
    "1111111110111111": 102,
    "1111111111001100": 103,
    "1111111111011001": 104,
    "1111111111100111": 105,
    "1111111111110101": 106,
    "111111110101": 114,
    "1111111110001100": 115,
    "1111111110011000": 116,
    "1111111110110110": 117,
    "1111111111000000": 118,
    "1111111111001101": 119,
    "1111111111011010": 120,
    "1111111111101000": 121,
    "1111111111110110": 122,
    "1111111101100": 130,
    "1111111110011110": 131,
    "1111111110100011": 132,
    "1111111110110111": 133,
    "1111111111000001": 134,
    "1111111111001110": 135,
    "1111111111011011": 136,
    "1111111111101001": 137,
    "1111111111110111": 138,
    "11111111100000": 146,
    "1111111110010001": 147,
    "1111111110100100": 148,
    "1111111110111000": 149,
    "1111111111000010": 150,
    "1111111111001111": 151,
    "1111111111011100": 152,
    "1111111111101010": 153,
    "1111111111111000": 154,
    "11111111100001": 162,
    "1111111110010010": 163,
    "1111111110100111": 164,
    "1111111110111001": 165,
    "1111111111000011": 166,
    "1111111111010000": 167,
    "1111111111011101": 168,
    "1111111111101011": 169,
    "1111111111111001": 170,
    "111111111000100": 178,
    "1111111110010011": 179,
    "1111111110101000": 180,
    "1111111110111010": 181,
    "1111111111000100": 182,
    "1111111111010001": 183,
    "1111111111011110": 184,
    "1111111111101100": 185,
    "1111111111111010": 186,
    "1111111110001101": 194,
    "1111111110011001": 195,
    "1111111110110001": 196,
    "1111111110111011": 197,
    "1111111111000101": 198,
    "1111111111010010": 199,
    "1111111111011111": 200,
    "1111111111101101": 201,
    "1111111111111011": 202,
    "1111111110011010": 210,
    "1111111110101010": 211,
    "1111111110110010": 212,
    "1111111110111100": 213,
    "1111111111000110": 214,
    "1111111111010011": 215,
    "1111111111100000": 216,
    "1111111111101110": 217,
    "1111111111111100": 218,
    "11111110110": 225,
    "1111111110011011": 226,
    "1111111110101111": 227,
    "1111111110110011": 228,
    "1111111110111101": 229,
    "1111111111000111": 230,
    "1111111111010100": 231,
    "1111111111100001": 232,
    "1111111111101111": 233,
    "1111111111111101": 234,
    "111111110011": 240,
    "1111111101101": 241,
    "1111111110101110": 242,
    "1111111110110000": 243,
    "1111111110110100": 244,
    "1111111110111110": 245,
    "1111111111001000": 246,
    "1111111111010101": 247,
    "1111111111100010": 248,
    "1111111111110000": 249,
    "1111111111111110": 250
}
AC_C_TABLE = {
    0x01: [0, 0],
    0x00: [0, 1],
    0x02: [1, 0, 0],
    0x11: [1, 0, 1],
    0x03: [1, 1, 0, 0],
    0x04: [1, 1, 0, 1, 0],
    0x21: [1, 1, 0, 1, 1],
    0x12: [1, 1, 1, 0, 0, 0],
    0x31: [1, 1, 1, 0, 0, 1],
    0x41: [1, 1, 1, 0, 1, 0],
    0x05: [1, 1, 1, 0, 1, 1, 0],
    0x51: [1, 1, 1, 0, 1, 1, 1],
    0x13: [1, 1, 1, 1, 0, 0, 0],
    0x61: [1, 1, 1, 1, 0, 0, 1],
    0x22: [1, 1, 1, 1, 0, 1, 0],
    0x06: [1, 1, 1, 1, 0, 1, 1, 0],
    0x71: [1, 1, 1, 1, 0, 1, 1, 1],
    0x81: [1, 1, 1, 1, 1, 0, 0, 0],
    0x91: [1, 1, 1, 1, 1, 0, 0, 1],
    0x32: [1, 1, 1, 1, 1, 0, 1, 0],
    0xA1: [1, 1, 1, 1, 1, 0, 1, 1, 0],
    0xB1: [1, 1, 1, 1, 1, 0, 1, 1, 1],
    0xF0: [1, 1, 1, 1, 1, 1, 0, 0, 0],
    0x14: [1, 1, 1, 1, 1, 1, 0, 0, 1],
    0xC1: [1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0xD1: [1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0xE1: [1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x23: [1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0x42: [1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    0x15: [1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0],
    0x52: [1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
    0x62: [1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0x72: [1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0xF1: [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x33: [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0x24: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    0x34: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    0x43: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0],
    0x82: [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
    0x16: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0],
    0x92: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1],
    0x53: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0],
    0x25: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1],
    0xA2: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
    0x63: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1],
    0xB2: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0],
    0xC2: [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1],
    0x07: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    0x73: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1],
    0xD2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0],
    0x35: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0],
    0xE2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1],
    0x44: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],
    0x83: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0],
    0x17: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1],
    0x54: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0],
    0x93: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1],
    0x08: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0],
    0x09: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1],
    0x0A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0],
    0x18: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1],
    0x19: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0],
    0x26: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1],
    0x36: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0],
    0x45: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1],
    0x1A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0],
    0x27: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1],
    0x64: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0],
    0x74: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1],
    0x55: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0],
    0x37: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1],
    0xF2: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0],
    0xA3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1],
    0xB3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
    0xC3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1],
    0x28: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0],
    0x29: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1],
    0xD3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0],
    0xE3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1],
    0xF3: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0],
    0x84: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1],
    0x94: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0],
    0xA4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1],
    0xB4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0],
    0xC4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1],
    0xD4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0],
    0xE4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1],
    0xF4: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0],
    0x65: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1],
    0x75: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0],
    0x85: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1],
    0x95: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0],
    0xA5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1],
    0xB5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0],
    0xC5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1],
    0xD5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0],
    0xE5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1],
    0xF5: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0],
    0x46: [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1],
    0x56: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    0x66: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1],
    0x76: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0],
    0x86: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
    0x96: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0],
    0xA6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1],
    0xB6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0],
    0xC6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1],
    0xD6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],
    0xE6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1],
    0xF6: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0],
    0x47: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1],
    0x57: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0],
    0x67: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1],
    0x77: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0],
    0x87: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1],
    0x97: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0],
    0xA7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1],
    0xB7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 0],
    0xC7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1],
    0xD7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0],
    0xE7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1],
    0xF7: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0],
    0x38: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1],
    0x48: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0],
    0x58: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1],
    0x68: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0],
    0x78: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1],
    0x88: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0],
    0x98: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],
    0xA8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0],
    0xB8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
    0xC8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    0xD8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1],
    0xE8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0],
    0xF8: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1],
    0x39: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0],
    0x49: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1],
    0x59: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0],
    0x69: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1],
    0x79: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0],
    0x89: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1],
    0x99: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0],
    0xA9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1],
    0xB9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
    0xC9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1],
    0xD9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0],
    0xE9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1],
    0xF9: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    0x2A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    0x3A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0],
    0x4A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
    0x5A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0],
    0x6A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],
    0x7A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0],
    0x8A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1],
    0x9A: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    0xAA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1],
    0xBA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0],
    0xCA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1],
    0xDA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
    0xEA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1],
    0xFA: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
}
AC_C_REVERSE_TABLE = {
    "100": 2,
    "101": 17,
    "1100": 3,
    "11010": 4,
    "11011": 33,
    "111000": 18,
    "111001": 49,
    "111010": 65,
    "1110110": 5,
    "1110111": 81,
    "1111000": 19,
    "1111001": 97,
    "1111010": 34,
    "11110110": 6,
    "11110111": 113,
    "11111000": 129,
    "11111001": 145,
    "11111010": 50,
    "111110110": 161,
    "111110111": 177,
    "111111000": 240,
    "111111001": 20,
    "1111110100": 193,
    "1111110101": 209,
    "1111110110": 225,
    "1111110111": 35,
    "1111111000": 66,
    "01": 0,
    "00": 1,
    "11111111100000": 7,
    "1111111110010110": 8,
    "1111111110010111": 9,
    "1111111110011000": 10,
    "11111110010": 21,
    "1111111101000": 22,
    "1111111110010011": 23,
    "1111111110011001": 24,
    "1111111110011010": 25,
    "1111111110011110": 26,
    "111111110000": 36,
    "1111111101011": 37,
    "1111111110011011": 38,
    "1111111110011111": 39,
    "1111111110101000": 40,
    "1111111110101001": 41,
    "1111111111110001": 42,
    "11111110111": 51,
    "111111110001": 52,
    "111111111000110": 53,
    "1111111110011100": 54,
    "1111111110100011": 55,
    "1111111111010111": 56,
    "1111111111100100": 57,
    "1111111111110010": 58,
    "111111110010": 67,
    "111111111001000": 68,
    "1111111110011101": 69,
    "1111111110111111": 70,
    "1111111111001011": 71,
    "1111111111011000": 72,
    "1111111111100101": 73,
    "1111111111110011": 74,
    "11111110011": 82,
    "1111111101010": 83,
    "1111111110010100": 84,
    "1111111110100010": 85,
    "1111111111000000": 86,
    "1111111111001100": 87,
    "1111111111011001": 88,
    "1111111111100110": 89,
    "1111111111110100": 90,
    "11111110100": 98,
    "1111111101101": 99,
    "1111111110100000": 100,
    "1111111110110101": 101,
    "1111111111000001": 102,
    "1111111111001101": 103,
    "1111111111011010": 104,
    "1111111111100111": 105,
    "1111111111110101": 106,
    "11111110101": 114,
    "11111111100001": 115,
    "1111111110100001": 116,
    "1111111110110110": 117,
    "1111111111000010": 118,
    "1111111111001110": 119,
    "1111111111011011": 120,
    "1111111111101000": 121,
    "1111111111110110": 122,
    "111111110011": 130,
    "1111111110010010": 131,
    "1111111110101101": 132,
    "1111111110110111": 133,
    "1111111111000011": 134,
    "1111111111001111": 135,
    "1111111111011100": 136,
    "1111111111101001": 137,
    "1111111111110111": 138,
    "1111111101001": 146,
    "1111111110010101": 147,
    "1111111110101110": 148,
    "1111111110111000": 149,
    "1111111111000100": 150,
    "1111111111010000": 151,
    "1111111111011101": 152,
    "1111111111101010": 153,
    "1111111111111000": 154,
    "1111111101100": 162,
    "1111111110100101": 163,
    "1111111110101111": 164,
    "1111111110111001": 165,
    "1111111111000101": 166,
    "1111111111010001": 167,
    "1111111111011110": 168,
    "1111111111101011": 169,
    "1111111111111001": 170,
    "1111111101110": 178,
    "1111111110100110": 179,
    "1111111110110000": 180,
    "1111111110111010": 181,
    "1111111111000110": 182,
    "1111111111010010": 183,
    "1111111111011111": 184,
    "1111111111101100": 185,
    "1111111111111010": 186,
    "1111111101111": 194,
    "1111111110100111": 195,
    "1111111110110001": 196,
    "1111111110111011": 197,
    "1111111111000111": 198,
    "1111111111010011": 199,
    "1111111111100000": 200,
    "1111111111101101": 201,
    "1111111111111011": 202,
    "11111111100010": 210,
    "1111111110101010": 211,
    "1111111110110010": 212,
    "1111111110111100": 213,
    "1111111111001000": 214,
    "1111111111010100": 215,
    "1111111111100001": 216,
    "1111111111101110": 217,
    "1111111111111100": 218,
    "111111111000111": 226,
    "1111111110101011": 227,
    "1111111110110011": 228,
    "1111111110111101": 229,
    "1111111111001001": 230,
    "1111111111010101": 231,
    "1111111111100010": 232,
    "1111111111101111": 233,
    "1111111111111101": 234,
    "11111110110": 241,
    "1111111110100100": 242,
    "1111111110101100": 243,
    "1111111110110100": 244,
    "1111111110111110": 245,
    "1111111111001010": 246,
    "1111111111010110": 247,
    "1111111111100011": 248,
    "1111111111110000": 249,
    "1111111111111110": 250
}


def huffmanEncode(bitStream, DCValue, ACArray, isY):
    DCHuffmanTable = DC_Y_TABLE if isY else DC_C_TABLE
    ACHuffmanTable = AC_Y_TABLE if isY else AC_C_TABLE
    bitStream.write(DCHuffmanTable[int(DCValue).bit_length()], bool)
    if DCValue <= 0:
        valueBits = [i == '0' for i in bin(DCValue)[3:]]
    else:
        valueBits = [i == '1' for i in bin(DCValue)[2:]]
    bitStream.write(valueBits, bool)

    i = 0
    ACSize = len(ACArray)
    while i < ACSize:
        zeros = 0
        while ACArray[i] == 0 and zeros < 15:
            if i == ACSize - 1:
                bitStream.write(ACHuffmanTable[0], bool)
                return
            i += 1
            zeros += 1

        ACValue = ACArray[i]

        bitStream.write(ACHuffmanTable[zeros * 16 + int(ACValue).bit_length()], bool)
        if ACValue <= 0:
            valueBits = [i == '0' for i in bin(ACValue)[3:]]
        else:
            valueBits = [i == '1' for i in bin(ACValue)[2:]]
        bitStream.write(valueBits, bool)
        i += 1


def huffmanDecode(bitStream, count):
    res = []
    for _ in range(count):
        yuv = []
        for isY in [True, False, False]:
            DCHuffmanTable = DC_Y_REVERSE_TABLE if isY else DC_C_REVERSE_TABLE
            ACHuffmanTable = AC_Y_REVERSE_TABLE if isY else AC_C_REVERSE_TABLE
            ACArray = []
            DCIndex = ''
            while DCIndex not in DCHuffmanTable:
                DCIndex += str(int(bitStream.read(bool, 1)[0]))
            DCLength = DCHuffmanTable[DCIndex]
            DCValue = 0
            flag = 0
            for _ in range(DCLength):
                DCValue = DCValue * 2 + bitStream.read(bool, 1)[0]
                if flag == 0:
                    flag = -1 if DCValue == 0 else 1
            ACArray.append(DCValue if flag == 1 else DCValue - 2 ** DCLength + 1)
            while len(ACArray) < 64:
                ACIndex = ''
                while ACIndex not in ACHuffmanTable:
                    ACIndex += str(int(bitStream.read(bool, 1)[0]))
                ACLength = ACHuffmanTable[ACIndex]
                if ACLength == 0:
                    ACArray += [0] * (64 - len(ACArray))
                    break
                ACArray += [0] * (ACLength // 16)
                ACValue = 0
                flag = 0
                ACLength %= 16
                for _ in range(ACLength):
                    ACValue = ACValue * 2 + bitStream.read(bool, 1)[0]
                    if flag == 0:
                        flag = -1 if ACValue == 0 else 1
                ACArray.append(ACValue if flag == 1 else ACValue - 2 ** ACLength + 1)
            yuv.append(ACArray)
        res.append(yuv)
    return res
